<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <%- include partial/header %>
    <title>Ini Subject</title>
</head>

<body>
  <center>
  <h1>Data Subject</h1>
  <a href="/subject/add"><button type="button" name="button">Add Subject</button></a>
  <div>
    <center>
    <table>
      <tr>
        <th>Id</th>
        <th>Subject</th>
        <th>Teachers</th>
        <th>Action</th>
        <th>Options</th>
      </tr>
      <% dataSubject.forEach(subject => {%>
        <tr>
          <td>
            <%= subject.id %>
          </td>
          <td>
            <%= subject.subject_name %>
          </td>
          <%if (subject.Teachers.length != 0) { %>
            <td>
              <% for (var i = 0; i < subject.Teachers.length; i++ ) { %>
                <% var teacher = 1 %>
                  <%= i+1 %>.
                    <%= subject.Teachers[i].first_name %>
                      <%= subject.Teachers[i].last_name %><br>
                        <% } %>
            </td>
            <%} else {%>
              <td>
                <center> - </center>
              </td>
              <% } %>
              <td><a href="/subject/<%= subject.id%>/enrolledstudents">Enrolled Student</a></td>
                <td>
                  <a href='subject/<%= subject.id %>/addSubject'>Add Subject</a>
                </td>
                <td>
                  <a href="/subject/edit/<%= subject.id %>"><button type="button" class="btn btn-primary btn-sm" name="button">Edit</button></a>
                  <a href="subject/delete/<%= subject.id %>" onclick="return confirm('Delete <%= subject.subject_name %> From List?')"><button type="button" class="btn btn-primary btn-sm" name="button">Delete</button></a>
                </td>
        </tr>
        <% }) %>
    </table>
  </div>
</body>

</html>
